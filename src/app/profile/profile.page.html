<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>My Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <div *ngIf="!isLoggedIn" class="login-container ion-text-center">
    <div style="margin-top: 30vh;">
      <ion-icon name="chatbubbles" style="font-size: 80px; color: #06c755; margin-bottom: 20px;"></ion-icon>
      <h2>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô</h2>
      <p class="ion-text-muted ion-margin-bottom">
        ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô<br>‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô LINE
      </p>
      <ion-button expand="block" color="success" size="large" (click)="loginNow()">
        <ion-icon name="log-in-outline" slot="start"></ion-icon>
        ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ LINE
      </ion-button>
    </div>
  </div>

  <div *ngIf="isLoggedIn">
    <ion-card class="profile-card">
      <ion-card-header>
        <ion-item lines="none">
          <ion-avatar slot="start">
            <img [src]="lineProfile?.pictureUrl" />
          </ion-avatar>
          <ion-label>
            <h2>{{ lineProfile?.displayName }}</h2>
            <p>
              ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:
              <ion-badge [color]="getRoleColor(currentRole)"
                >{{ currentRole | uppercase }}</ion-badge
              >
            </p>
          </ion-label>
        </ion-item>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item *ngIf="currentRole === 'user' || currentRole === 'host'">
            <ion-icon name="card-outline" slot="start"></ion-icon>
            <ion-label>‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤/‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£</ion-label>
            <ion-note slot="end">6XXXXXXX</ion-note>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-card class="ion-margin-top" color="light">
      <ion-card-header>
        <ion-card-subtitle>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á Line</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-button color="dark" expand="block" (click)="openLineOA()">
          <ion-icon name="chatbubbles-outline" slot="start"></ion-icon>
          LINE OA
        </ion-button>
      </ion-card-content>
    </ion-card>

    <!-- üîß Developer Zone (Test Menu) -->
    <ion-card class="ion-margin-top" style="border: 1px dashed red;">
      <ion-card-header>
        <ion-card-subtitle style="color: red;">Test Menu</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <p class="ion-margin-bottom">Tools ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Rich Menu</p>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
          <ion-button color="dark" expand="block" (click)="openLineOA()">
            <ion-icon name="chatbubbles-outline" slot="start"></ion-icon>
            Back to OA
          </ion-button>
          <ion-button color="success" expand="block" (click)="debugSwitchRole('visitor')">Force Visitor</ion-button>
          <ion-button color="primary" expand="block" (click)="debugSwitchRole('host')">Force Host</ion-button>
          <ion-button color="tertiary" expand="block" (click)="debugSwitchRole('user')">Force User</ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

</ion-content>
